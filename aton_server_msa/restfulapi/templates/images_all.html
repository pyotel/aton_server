<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>모든 이미지 보기</title>
    <style>
        body { font-family: Arial, sans-serif; }
        .gallery img { width: 200px; height: auto; cursor: pointer; }
        .modal { display: none; position: fixed; z-index: 1; left: 0; top: 0;
                 width: 100%; height: 100%; background-color: rgba(0,0,0,0.9); }
        .modal-content { margin: auto; display: block; width: 80%; max-width: 700px; }
        .modal-content img { width: 100%; height: auto; }
        .close { position: absolute; top: 15px; right: 35px; color: #fff; font-size: 40px; font-weight: bold; }
        .close:hover { color: #bbb; cursor: pointer; }
    </style>
</head>
<body>
    <h1>전체 이미지 리스트 ({{ selected_date }})</h1>

    <form method="get" action="/img/all">
        <label for="date">날짜 선택:</label>
        <input type="date" id="date" name="date" value="{{ selected_date }}">
        <input type="submit" value="조회">
    </form>

    <div class="gallery">
        {% for image, ctime in images %}
            <div style="display:inline-block; margin: 10px;">
                <img src="{{ url_for('send_image', filename=image) }}" alt="{{ image }}" onclick="openModal(this.src)">
                <p>{{ image }}</p>
            </div>
        {% endfor %}
    </div>

    <div id="myModal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <div class="modal-content">
            <img id="modalImage" src="">
        </div>
    </div>

    <script>
        function openModal(src) {
            document.getElementById("myModal").style.display = "block";
            document.getElementById("modalImage").src = src;
        }
        function closeModal() {
            document.getElementById("myModal").style.display = "none";
        }
    </script>
</body>
</html>
